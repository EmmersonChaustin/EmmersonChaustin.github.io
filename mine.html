<html>
    
<head>
<meta http-equiv-"Content-Type" content ="text/html; charset=UTF -8" />
<title>Processing Demo</title>
<script type="text/javascript" src="./js/sf.js"></script>
</head>

<body>
<script type= "text/processing">
    PImage back;
    PImage face;
    
    
    int count = 0;
    int Vy = 0;
    int y = 0;
    int gamestate = 0;
    
    void setup(){
      size(1000,564);
      back = loadImage("./js/img/background.png");
      face = loadImage("./js/img/trip.png");
      //image(back, 0, 0);
    }
    
    void draw(){
      if (gamestate == 0){
        image(back, count, 0);
        image(back, width + count, 0);
        count-=2;
        if (count == - width){
          count = 0;
        }
        image(face, 100 , y );
        if (count%3 == 0){
          Vy += 1;
        }
        y = y + Vy;
      }
      if (y < -40 || y > 600){
        gamestate = 1;
      }
     if (gamestate == 1){
       background(255, 0, 0);
       textSize(50);
       fill(255,255,0);
       rect(190,258,290,50,5);
       fill(0);
       text("Restart!", 200, 300);
       if (mouseX > 190 && mouseX < 390 && mouseY > 258 && mouseY < 318){
         fill(55,55,0);
         rect(190,258,200,50,5);
         fill(255);
         text("Restart!", 200, 300);
         if (mousePressed){
            gamestate = 0; y = 50;
         }
       }
     }
    }
    
    void mousePressed(){
        Vy = -10;
    }
</script>
<canvas id="sketch" style="border: 1px solid black;"></canvas>
</body>
</html>